import{j as r,u as H,Q as se,a as ie}from"./query-CKRroiZA.js";import{a as oe,r as d,b as ce}from"./vendor-Gm9i_4Ku.js";import{u as de,L as A,a as le,R as ue,b as F,B as me}from"./router-jua2Vyaz.js";import{u as he,f as I,g as fe,a as ge}from"./table-iqIhI9LJ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var L={},$=oe;L.createRoot=$.createRoot,L.hydrateRoot=$.hydrateRoot;function xe({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const pe=d.forwardRef(xe);function ye({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const be=d.forwardRef(ye);function we({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const je=d.forwardRef(we);function ve({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const ke=d.forwardRef(ve);function Ne({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Z=d.forwardRef(Ne);function Se({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Oe=d.forwardRef(Se);function Me({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const U=d.forwardRef(Me);function De({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Te=d.forwardRef(De);function Ce({title:t,titleId:e,...n},a){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),t?d.createElement("title",{id:e},t):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Pe=d.forwardRef(Ce),_=[{name:"Dashboard",href:"/",icon:Oe},{name:"Skalds",href:"/skalds",icon:U},{name:"Tasks",href:"/tasks",icon:Z}];function We({children:t}){const[e,n]=d.useState(!1),a=de();return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${e?"":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),r.jsxs("div",{className:"relative flex w-full max-w-xs flex-1 flex-col bg-white",children:[r.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:r.jsx("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>n(!1),children:r.jsx(Pe,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[r.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Skald Dashboard"})}),r.jsx("nav",{className:"mt-5 space-y-1 px-2",children:_.map(s=>{const i=a.pathname===s.href;return r.jsxs(A,{to:s.href,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md ${i?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,onClick:()=>n(!1),children:[r.jsx(s.icon,{className:`mr-4 h-6 w-6 flex-shrink-0 ${i?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),s.name]},s.name)})})]})]})]}),r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:r.jsx("div",{className:"flex min-h-0 flex-1 flex-col bg-white border-r border-gray-200",children:r.jsxs("div",{className:"flex flex-1 flex-col overflow-y-auto pt-5 pb-4",children:[r.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Skald Dashboard"})}),r.jsx("nav",{className:"mt-5 flex-1 space-y-1 px-2",children:_.map(s=>{const i=a.pathname===s.href;return r.jsxs(A,{to:s.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md ${i?"bg-primary-100 text-primary-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[r.jsx(s.icon,{className:`mr-3 h-6 w-6 flex-shrink-0 ${i?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),s.name]},s.name)})})]})})}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 lg:hidden",children:r.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[r.jsx("button",{type:"button",className:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 lg:hidden",onClick:()=>n(!0),children:r.jsx(pe,{className:"h-6 w-6"})}),r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Skald Dashboard"}),r.jsx("div",{className:"w-10"})," "]})}),r.jsx("main",{className:"flex-1",children:r.jsx("div",{className:"py-6",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})})]})]})}const M=[{id:"skald-node-001",type:"node",status:"online",lastHeartbeat:new Date().toISOString(),supportedTasks:["data_processing","ml_training","file_conversion"],currentTasks:["task-001","task-003"]},{id:"skald-node-002",type:"node",status:"online",lastHeartbeat:new Date(Date.now()-3e4).toISOString(),supportedTasks:["data_processing","image_processing"],currentTasks:["task-002"]},{id:"skald-edge-001",type:"edge",status:"offline",lastHeartbeat:new Date(Date.now()-3e5).toISOString(),supportedTasks:["sensor_data","edge_computing"],currentTasks:[]}],g=[{id:"task-001",type:"data_processing",status:"Running",executor:"skald-node-001",createdAt:new Date(Date.now()-36e5).toISOString(),updatedAt:new Date(Date.now()-18e5).toISOString(),attachments:{inputFile:"data.csv",outputPath:"/tmp/processed"},heartbeat:150,error:void 0,exception:void 0},{id:"task-002",type:"ml_training",status:"Running",executor:"skald-node-002",createdAt:new Date(Date.now()-72e5).toISOString(),updatedAt:new Date(Date.now()-9e5).toISOString(),attachments:{model:"neural_network",dataset:"training_data.json"},heartbeat:75,error:void 0,exception:void 0},{id:"task-003",type:"file_conversion",status:"Completed",executor:"skald-node-001",createdAt:new Date(Date.now()-18e5).toISOString(),updatedAt:new Date(Date.now()-3e5).toISOString(),attachments:{sourceFile:"document.pdf",targetFormat:"docx"},heartbeat:200,error:void 0,exception:void 0},{id:"task-004",type:"data_processing",status:"Failed",executor:"skald-node-002",createdAt:new Date(Date.now()-54e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString(),attachments:{inputFile:"corrupted_data.csv"},heartbeat:-1,error:"File format not supported",exception:"ValueError: Invalid data format"},{id:"task-005",type:"image_processing",status:"Created",executor:void 0,createdAt:new Date(Date.now()-6e5).toISOString(),updatedAt:new Date(Date.now()-6e5).toISOString(),attachments:{images:["img1.jpg","img2.jpg"],filter:"blur"},heartbeat:0,error:void 0,exception:void 0}],j=t=>new Promise(e=>setTimeout(e,t));class Ee{async getSkalds(){return await j(500),{items:M,total:M.length}}async getSkald(e){await j(300);const n=M.find(a=>a.id===e);if(!n)throw new Error(`Skald with id ${e} not found`);return n}async getTasks(e){await j(600);let n=[...g];e.status&&(n=n.filter(c=>c.status===e.status)),e.type&&(n=n.filter(c=>c.type===e.type)),e.executor&&(n=n.filter(c=>c.executor===e.executor));const a=(e.page-1)*e.pageSize,s=a+e.pageSize;return{items:n.slice(a,s),total:n.length,page:e.page,pageSize:e.pageSize}}async getTask(e){await j(300);const n=g.find(a=>a.id===e);if(!n)throw new Error(`Task with id ${e} not found`);return n}async updateTaskStatus(e,n){await j(400);const a=g.findIndex(s=>s.id===e);if(a===-1)throw new Error(`Task with id ${e} not found`);return g[a]={...g[a],status:n.status,updatedAt:new Date().toISOString()},g[a]}async updateTaskAttachments(e,n){await j(400);const a=g.findIndex(s=>s.id===e);if(a===-1)throw new Error(`Task with id ${e} not found`);return g[a]={...g[a],attachments:n.attachments,updatedAt:new Date().toISOString()},g[a]}async getDashboardSummary(){await j(400);const e=M.length,n=M.filter(l=>l.status==="online").length,a=g.length,s=g.filter(l=>l.status==="Running").length,i=g.filter(l=>l.status==="Completed").length,c=g.filter(l=>l.status==="Failed").length;return{totalSkalds:e,onlineSkalds:n,totalTasks:a,runningTasks:s,completedTasks:i,failedTasks:c}}}const q=new Ee;function K(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=K(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function R(){for(var t,e,n=0,a="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=K(t))&&(a&&(a+=" "),a+=e);return a}const Fe={online:{color:"status-online",label:"Online",dotColor:"bg-success-500"},offline:{color:"status-offline",label:"Offline",dotColor:"bg-gray-500"},Created:{color:"status-created",label:"Created",dotColor:"bg-warning-500"},Assigning:{color:"status-assigning",label:"Assigning",dotColor:"bg-warning-500"},Running:{color:"status-running",label:"Running",dotColor:"bg-primary-500"},Completed:{color:"status-completed",label:"Completed",dotColor:"bg-success-500"},Failed:{color:"status-failed",label:"Failed",dotColor:"bg-danger-500"},Canceled:{color:"status-canceled",label:"Canceled",dotColor:"bg-gray-500"}},Re={sm:{badge:"px-2 py-1 text-xs",dot:"w-2 h-2"},md:{badge:"px-2.5 py-1.5 text-sm",dot:"w-3 h-3"},lg:{badge:"px-3 py-2 text-base",dot:"w-4 h-4"}};function S({status:t,size:e="md",showLabel:n=!0,animated:a=!1}){const s=Fe[t],i=Re[e];return s?n?r.jsxs("span",{className:R("inline-flex items-center gap-1.5 rounded-full border font-medium",s.color,i.badge),children:[r.jsx("div",{className:R("rounded-full",i.dot,s.dotColor,a&&(t==="online"||t==="Running")&&"animate-heartbeat")}),s.label]}):r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:R("rounded-full",i.dot,s.dotColor,a&&(t==="online"||t==="Running")&&"animate-pulse")})}):null}function Ye(){const t=le(),{data:e,isLoading:n}=H({queryKey:["dashboard-summary"],queryFn:()=>q.getDashboardSummary()});if(n)return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((s,i)=>r.jsx("div",{className:"card",children:r.jsxs("div",{className:"card-content",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})},i))})]})});const a=[{name:"Total Skalds",value:(e==null?void 0:e.totalSkalds)||0,subValue:`${(e==null?void 0:e.onlineSkalds)||0} online`,icon:U,color:"text-primary-600",bgColor:"bg-primary-100"},{name:"Total Tasks",value:(e==null?void 0:e.totalTasks)||0,subValue:`${(e==null?void 0:e.runningTasks)||0} running`,icon:Z,color:"text-blue-600",bgColor:"bg-blue-100"},{name:"Completed Tasks",value:(e==null?void 0:e.completedTasks)||0,subValue:"Successfully finished",icon:be,color:"text-success-600",bgColor:"bg-success-100"},{name:"Failed Tasks",value:(e==null?void 0:e.failedTasks)||0,subValue:"Need attention",icon:Te,color:"text-danger-600",bgColor:"bg-danger-100"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of your Skald system status and performance"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:a.map(s=>r.jsx("div",{className:"card",children:r.jsx("div",{className:"card-content",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`p-3 rounded-lg ${s.bgColor}`,children:r.jsx(s.icon,{className:`h-6 w-6 ${s.color}`})})}),r.jsxs("div",{className:"ml-4 flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:s.name}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.value}),r.jsx("div",{className:"text-xs text-gray-400",children:s.subValue})]})]})})},s.name))}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Status"})}),r.jsxs("div",{className:"card-content space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Skald Connectivity"}),r.jsxs("span",{className:"text-xs text-gray-500",children:[(e==null?void 0:e.onlineSkalds)||0," of ",(e==null?void 0:e.totalSkalds)||0," nodes online"]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const s=e!=null&&e.totalSkalds?e.onlineSkalds/e.totalSkalds:0;return s===1?r.jsx("div",{title:"Status: Online - All Skald nodes are connected and operational",children:r.jsx(S,{status:"online",animated:!0})}):s>=.7?r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1.5 text-sm bg-warning-100 text-warning-800 border-warning-200 cursor-help",title:`Status: Partial - ${Math.round(s*100)}% of nodes online (≥70% threshold met, but not all nodes available)`,children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-warning-500 animate-pulse"}),"Partial"]}):s>0?r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1.5 text-sm bg-danger-100 text-danger-800 border-danger-200 cursor-help",title:`Status: Degraded - Only ${Math.round(s*100)}% of nodes online (<70% threshold, system performance may be impacted)`,children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-danger-500 animate-pulse"}),"Degraded"]}):r.jsx("div",{title:"Status: Offline - No Skald nodes are currently connected",children:r.jsx(S,{status:"offline",animated:!0})})})()})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Task Processing"}),r.jsxs("span",{className:"text-xs text-gray-500",children:[(e==null?void 0:e.runningTasks)||0," running, ",(e==null?void 0:e.completedTasks)||0," completed"]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const s=(e==null?void 0:e.runningTasks)||0,i=(e==null?void 0:e.failedTasks)||0;return s>0?r.jsx("div",{title:`Status: Running - ${s} task(s) currently being processed`,children:r.jsx(S,{status:"Running",animated:!0})}):i===0?r.jsx("div",{title:"Status: Completed - No active tasks, all previous tasks completed successfully",children:r.jsx(S,{status:"Completed"})}):r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1.5 text-sm bg-warning-100 text-warning-800 border-warning-200 cursor-help",title:`Status: Idle - No tasks running, but ${i} failed task(s) require attention`,children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-warning-500"}),"Idle"]})})()})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:"System Health"}),r.jsxs("span",{className:"text-xs text-gray-500",children:[(e==null?void 0:e.failedTasks)||0," failed tasks detected"]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:(()=>{const s=(e==null?void 0:e.failedTasks)||0,i=(e==null?void 0:e.totalTasks)||0,c=i>0?s/i:0;return s===0?r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1.5 text-sm bg-success-100 text-success-800 border-success-200 cursor-help",title:"Status: Healthy - No failed tasks detected, system operating normally",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-success-500"}),"Healthy"]}):c<.1?r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1.5 text-sm bg-warning-100 text-warning-800 border-warning-200 cursor-help",title:`Status: Warning - ${s} failed task(s), failure rate ${Math.round(c*100)}% (<10% threshold, monitor closely)`,children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-warning-500 animate-pulse"}),"Warning"]}):r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1.5 text-sm bg-danger-100 text-danger-800 border-danger-200 cursor-help",title:`Status: Critical - ${s} failed task(s), failure rate ${Math.round(c*100)}% (≥10% threshold, immediate attention required)`,children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-danger-500 animate-pulse"}),"Critical"]})})()})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"card-header",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),r.jsxs("div",{className:"card-content space-y-3",children:[r.jsx("button",{className:"btn btn-primary btn-md w-full",onClick:()=>t("/tasks"),children:"View All Tasks"}),r.jsx("button",{className:"btn btn-primary btn-md w-full",onClick:()=>t("/skalds"),children:"Monitor Skalds"}),r.jsx("button",{className:"btn btn-primary btn-md w-full",onClick:()=>alert("System Logs feature coming soon!"),children:"System Logs"})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status Legend"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Understanding system status indicators and their logic"})]}),r.jsx("div",{className:"card-content",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 font-medium text-gray-900",children:"Category"}),r.jsx("th",{className:"text-left py-3 font-medium text-gray-900",children:"Status"}),r.jsx("th",{className:"text-left py-3 font-medium text-gray-900",children:"Logic & Conditions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.jsxs("tr",{children:[r.jsx("td",{rowSpan:4,className:"py-3 font-medium text-gray-900 align-top border-r border-gray-100",children:"Skald Connectivity"}),r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-success-100 text-success-800 border-success-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-success-500"}),"Online"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"All Skald nodes are connected and operational (100% online)"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-warning-100 text-warning-800 border-warning-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-warning-500"}),"Partial"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"≥70% of nodes online, but not all nodes are available"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-danger-100 text-danger-800 border-danger-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-danger-500"}),"Degraded"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"<70% of nodes online, system performance may be impacted"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-gray-100 text-gray-800 border-gray-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"}),"Offline"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"No Skald nodes are currently connected (0% online)"})]}),r.jsxs("tr",{children:[r.jsx("td",{rowSpan:3,className:"py-3 font-medium text-gray-900 align-top border-r border-gray-100",children:"Task Processing"}),r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-primary-100 text-primary-800 border-primary-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500"}),"Running"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"One or more tasks are currently being processed"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-success-100 text-success-800 border-success-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-success-500"}),"Completed"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"No active tasks, all previous tasks completed successfully"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-warning-100 text-warning-800 border-warning-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-warning-500"}),"Idle"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"No tasks currently running, but failed tasks exist and require attention"})]}),r.jsxs("tr",{children:[r.jsx("td",{rowSpan:3,className:"py-3 font-medium text-gray-900 align-top border-r border-gray-100",children:"System Health"}),r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-success-100 text-success-800 border-success-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-success-500"}),"Healthy"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"No failed tasks detected, system operating normally (0% failure rate)"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-warning-100 text-warning-800 border-warning-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-warning-500"}),"Warning"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"Task failure rate <10%, system should be monitored closely"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3",children:r.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs bg-danger-100 text-danger-800 border-danger-200",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-danger-500"}),"Critical"]})}),r.jsx("td",{className:"py-3 text-gray-600",children:"Task failure rate ≥10%, immediate attention and intervention required"})]})]})]})})})]})]})}function ee({data:t,columns:e,loading:n=!1,pagination:a,onRowClick:s}){const[i,c]=d.useState([]),l=e.map(o=>({accessorKey:o.key,header:o.header,enableSorting:o.sortable??!0,cell:({getValue:u,row:p})=>{const b=u();return o.render?o.render(b,p.original):String(b)}})),h=he({data:t,columns:l,state:{sorting:i},onSortingChange:c,getCoreRowModel:ge(),getSortedRowModel:fe()});return n?r.jsx("div",{className:"card",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"card-header",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})}),r.jsx("div",{className:"card-content space-y-3",children:[...Array(5)].map((o,u)=>r.jsx("div",{className:"h-4 bg-gray-200 rounded"},u))})]})}):r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:h.getHeaderGroups().map(o=>r.jsx("tr",{className:"border-b border-gray-200",children:o.headers.map(u=>r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.isPlaceholder?null:r.jsxs("div",{className:`flex items-center gap-2 ${u.column.getCanSort()?"cursor-pointer select-none":""}`,onClick:u.column.getToggleSortingHandler(),children:[I(u.column.columnDef.header,u.getContext()),u.column.getCanSort()&&r.jsxs("span",{className:"flex flex-col",children:[r.jsx(ke,{className:`w-3 h-3 ${u.column.getIsSorted()==="asc"?"text-primary-600":"text-gray-400"}`}),r.jsx(je,{className:`w-3 h-3 -mt-1 ${u.column.getIsSorted()==="desc"?"text-primary-600":"text-gray-400"}`})]})]})},u.id))},o.id))}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.getRowModel().rows.map(o=>r.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(o.original),children:o.getVisibleCells().map(u=>r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I(u.column.columnDef.cell,u.getContext())},u.id))},o.id))})]})}),a&&r.jsxs("div",{className:"card-footer flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(a.page-1)*a.pageSize+1," to"," ",Math.min(a.page*a.pageSize,a.total)," of"," ",a.total," results"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>a.onPageChange(a.page-1),disabled:a.page<=1,children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",a.page," of ",Math.ceil(a.total/a.pageSize)]}),r.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>a.onPageChange(a.page+1),disabled:a.page>=Math.ceil(a.total/a.pageSize),children:"Next"})]})]})]})}function Le(){const{data:t,isLoading:e}=H({queryKey:["skalds"],queryFn:()=>q.getSkalds()}),n=[{key:"id",header:"Skald ID",sortable:!0},{key:"type",header:"Type",sortable:!0,render:a=>r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a==="node"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:a})},{key:"status",header:"Status",sortable:!0,render:a=>r.jsx(S,{status:a,animated:!0})},{key:"supportedTasks",header:"Supported Tasks",sortable:!1,render:a=>r.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.slice(0,3).map((s,i)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:s},i)),a.length>3&&r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:["+",a.length-3," more"]})]})},{key:"currentTasks",header:"Current Tasks",sortable:!0,render:a=>r.jsx("span",{className:"text-sm text-gray-900",children:a.length})}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Skalds"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor and manage your Skald workers"})]}),r.jsx(ee,{data:(t==null?void 0:t.items)||[],columns:n,loading:e})]})}function y(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function k(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const te=6048e5,He=864e5;let qe={};function W(){return qe}function C(t,e){var l,h,o,u;const n=W(),a=(e==null?void 0:e.weekStartsOn)??((h=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((u=(o=n.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??0,s=y(t),i=s.getDay(),c=(i<a?7:0)+i-a;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function P(t){return C(t,{weekStartsOn:1})}function ne(t){const e=y(t),n=e.getFullYear(),a=k(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=P(a),i=k(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=P(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}function B(t){const e=y(t);return e.setHours(0,0,0,0),e}function V(t){const e=y(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ae(t,e){const n=B(t),a=B(e),s=+n-V(n),i=+a-V(a);return Math.round((s-i)/He)}function Ie(t){const e=ne(t),n=k(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),P(n)}function $e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _e(t){if(!$e(t)&&typeof t!="number")return!1;const e=y(t);return!isNaN(Number(e))}function Be(t){const e=y(t),n=k(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qe=(t,e,n)=>{let a;const s=Ve[t];return typeof s=="string"?a=s:e===1?a=s.one:a=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Y(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Xe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Je={date:Y({formats:Xe,defaultWidth:"full"}),time:Y({formats:Ge,defaultWidth:"full"}),dateTime:Y({formats:ze,defaultWidth:"full"})},Ze={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ue=(t,e,n,a)=>Ze[t];function D(t){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):c;s=t.formattingValues[l]||t.formattingValues[c]}else{const c=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[c]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Ke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},et={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},at={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},st=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},it={ordinalNumber:st,era:D({values:Ke,defaultWidth:"wide"}),quarter:D({values:et,defaultWidth:"wide",argumentCallback:t=>t-1}),month:D({values:tt,defaultWidth:"wide"}),day:D({values:nt,defaultWidth:"wide"}),dayPeriod:D({values:at,defaultWidth:"wide",formattingValues:rt,defaultFormattingWidth:"wide"})};function T(t){return(e,n={})=>{const a=n.width,s=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const c=i[0],l=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(l)?ct(l,p=>p.test(c)):ot(l,p=>p.test(c));let o;o=t.valueCallback?t.valueCallback(h):h,o=n.valueCallback?n.valueCallback(o):o;const u=e.slice(c.length);return{value:o,rest:u}}}function ot(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function ct(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dt(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const s=a[0],i=e.match(t.parsePattern);if(!i)return null;let c=t.valueCallback?t.valueCallback(i[0]):i[0];c=n.valueCallback?n.valueCallback(c):c;const l=e.slice(s.length);return{value:c,rest:l}}}const lt=/^(\d+)(th|st|nd|rd)?/i,ut=/\d+/i,mt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ht={any:[/^b/i,/^(a|c)/i]},ft={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gt={any:[/1/i,/2/i,/3/i,/4/i]},xt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vt={ordinalNumber:dt({matchPattern:lt,parsePattern:ut,valueCallback:t=>parseInt(t,10)}),era:T({matchPatterns:mt,defaultMatchWidth:"wide",parsePatterns:ht,defaultParseWidth:"any"}),quarter:T({matchPatterns:ft,defaultMatchWidth:"wide",parsePatterns:gt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:T({matchPatterns:xt,defaultMatchWidth:"wide",parsePatterns:pt,defaultParseWidth:"any"}),day:T({matchPatterns:yt,defaultMatchWidth:"wide",parsePatterns:bt,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:wt,defaultMatchWidth:"any",parsePatterns:jt,defaultParseWidth:"any"})},kt={code:"en-US",formatDistance:Qe,formatLong:Je,formatRelative:Ue,localize:it,match:vt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nt(t){const e=y(t);return Ae(e,Be(e))+1}function St(t){const e=y(t),n=+P(e)-+Ie(e);return Math.round(n/te)+1}function ae(t,e){var u,p,b,O;const n=y(t),a=n.getFullYear(),s=W(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((O=(b=s.locale)==null?void 0:b.options)==null?void 0:O.firstWeekContainsDate)??1,c=k(t,0);c.setFullYear(a+1,0,i),c.setHours(0,0,0,0);const l=C(c,e),h=k(t,0);h.setFullYear(a,0,i),h.setHours(0,0,0,0);const o=C(h,e);return n.getTime()>=l.getTime()?a+1:n.getTime()>=o.getTime()?a:a-1}function Ot(t,e){var l,h,o,u;const n=W(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(o=n.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??1,s=ae(t,e),i=k(t,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),C(i,e)}function Mt(t,e){const n=y(t),a=+C(n,e)-+Ot(n,e);return Math.round(a/te)+1}function m(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const w={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return m(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):m(n+1,2)},d(t,e){return m(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return m(t.getHours()%12||12,e.length)},H(t,e){return m(t.getHours(),e.length)},m(t,e){return m(t.getMinutes(),e.length)},s(t,e){return m(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return m(s,e.length)}},N={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return w.y(t,e)},Y:function(t,e,n,a){const s=ae(t,a),i=s>0?s:1-s;if(e==="YY"){const c=i%100;return m(c,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):m(i,e.length)},R:function(t,e){const n=ne(t);return m(n,e.length)},u:function(t,e){const n=t.getFullYear();return m(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return m(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return m(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return w.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return m(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const s=Mt(t,a);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):m(s,e.length)},I:function(t,e,n){const a=St(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):m(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):w.d(t,e)},D:function(t,e,n){const a=Nt(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):m(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const s=t.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return m(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const s=t.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return m(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),s=a===0?7:a;switch(e){case"i":return String(s);case"ii":return m(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let s;switch(a===12?s=N.noon:a===0?s=N.midnight:s=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let s;switch(a>=17?s=N.evening:a>=12?s=N.afternoon:a>=4?s=N.morning:s=N.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return w.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):w.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):m(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):m(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):w.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):w.s(t,e)},S:function(t,e){return w.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return G(a);case"XXXX":case"XX":return v(a);case"XXXXX":case"XXX":default:return v(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return G(a);case"xxxx":case"xx":return v(a);case"xxxxx":case"xxx":default:return v(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+X(a,":");case"OOOO":default:return"GMT"+v(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+X(a,":");case"zzzz":default:return"GMT"+v(a,":")}},t:function(t,e,n){const a=Math.trunc(t.getTime()/1e3);return m(a,e.length)},T:function(t,e,n){const a=t.getTime();return m(a,e.length)}};function X(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+e+m(i,2)}function G(t,e){return t%60===0?(t>0?"-":"+")+m(Math.abs(t)/60,2):v(t,e)}function v(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),s=m(Math.trunc(a/60),2),i=m(a%60,2);return n+s+e+i}const z=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},re=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Dt=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return z(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",z(a,e)).replace("{{time}}",re(s,e))},Tt={p:re,P:Dt},Ct=/^D+$/,Pt=/^Y+$/,Wt=["D","DD","YY","YYYY"];function Et(t){return Ct.test(t)}function Ft(t){return Pt.test(t)}function Rt(t,e,n){const a=Yt(t,e,n);if(console.warn(a),Wt.includes(t))throw new RangeError(a)}function Yt(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ht=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qt=/^'([^]*?)'?$/,At=/''/g,It=/[a-zA-Z]/;function J(t,e,n){var u,p,b,O;const a=W(),s=a.locale??kt,i=a.firstWeekContainsDate??((p=(u=a.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??1,c=a.weekStartsOn??((O=(b=a.locale)==null?void 0:b.options)==null?void 0:O.weekStartsOn)??0,l=y(t);if(!_e(l))throw new RangeError("Invalid time value");let h=e.match(Ht).map(x=>{const f=x[0];if(f==="p"||f==="P"){const E=Tt[f];return E(x,s.formatLong)}return x}).join("").match(Lt).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const f=x[0];if(f==="'")return{isToken:!1,value:$t(x)};if(Q[f])return{isToken:!0,value:x};if(f.match(It))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(h=s.localize.preprocessor(l,h));const o={firstWeekContainsDate:i,weekStartsOn:c,locale:s};return h.map(x=>{if(!x.isToken)return x.value;const f=x.value;(Ft(f)||Et(f))&&Rt(f,e,String(t));const E=Q[f[0]];return E(l,f,s.localize,o)}).join("")}function $t(t){const e=t.match(qt);return e?e[1].replace(At,"'"):t}function _t(){const[t,e]=d.useState(1),[n,a]=d.useState(),s=10,{data:i,isLoading:c}=H({queryKey:["tasks",t,n],queryFn:()=>q.getTasks({page:t,pageSize:s,status:n})}),l=[{key:"id",header:"Task ID",sortable:!0,render:o=>r.jsx("span",{className:"font-mono text-sm",children:o})},{key:"type",header:"Type",sortable:!0,render:o=>r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:o})},{key:"status",header:"Status",sortable:!0,render:o=>r.jsx(S,{status:o,animated:!0})},{key:"executor",header:"Executor",sortable:!0,render:o=>r.jsx("span",{className:"text-sm text-gray-900",children:o||"Unassigned"})},{key:"createdAt",header:"Created",sortable:!0,render:o=>r.jsx("span",{className:"text-sm text-gray-500",children:J(new Date(o),"MMM dd, HH:mm")})},{key:"updatedAt",header:"Updated",sortable:!0,render:o=>r.jsx("span",{className:"text-sm text-gray-500",children:J(new Date(o),"MMM dd, HH:mm")})}],h=[void 0,"Created","Assigning","Running","Completed","Failed","Canceled"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tasks"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor and manage task execution"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("select",{value:n||"",onChange:o=>a(o.target.value||void 0),className:"block w-40 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:h.map(o=>r.jsx("option",{value:o||"",children:o||"All Status"},o||"all"))})})]}),r.jsx(ee,{data:(i==null?void 0:i.items)||[],columns:l,loading:c,pagination:{page:t,pageSize:s,total:(i==null?void 0:i.total)||0,onPageChange:e}})]})}function Bt(){return r.jsx(We,{children:r.jsxs(ue,{children:[r.jsx(F,{path:"/",element:r.jsx(Ye,{})}),r.jsx(F,{path:"/skalds",element:r.jsx(Le,{})}),r.jsx(F,{path:"/tasks",element:r.jsx(_t,{})})]})})}const Vt=new se({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});L.createRoot(document.getElementById("root")).render(r.jsx(ce.StrictMode,{children:r.jsx(ie,{client:Vt,children:r.jsx(me,{basename:"/dashboard",children:r.jsx(Bt,{})})})}));
//# sourceMappingURL=index-Dvr3dYVb.js.map
