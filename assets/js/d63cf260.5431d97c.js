"use strict";(self.webpackChunkwebsite_2=self.webpackChunkwebsite_2||[]).push([[37],{5477:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"env_setup","title":"\u74b0\u5883\u5efa\u7f6e\u6307\u5357\uff08Docker Compose\uff09","description":"\u672c\u6587\u4ef6\u8aaa\u660e\u5982\u4f55\u4f7f\u7528 Docker Compose \u5feb\u901f\u5efa\u7f6e Skalds \u57f7\u884c\u6240\u9700\u7684\u57fa\u790e\u670d\u52d9\uff08MongoDB\u3001Kafka\u3001Redis\uff09\uff0c\u9069\u7528\u65bc\u672c\u5730\u958b\u767c\u8207\u6e2c\u8a66\u3002","source":"@site/docs/env_setup.md","sourceDirName":".","slug":"/env_setup","permalink":"/Skalds/docs/env_setup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"quickstartSidebar","previous":{"title":"\u5feb\u901f\u5165\u9580","permalink":"/Skalds/docs/quickstart"},"next":{"title":"\u7bc4\u4f8b","permalink":"/Skalds/docs/examples"}}');var o=s(5813),c=s(9863);const l={},i="\u74b0\u5883\u5efa\u7f6e\u6307\u5357\uff08Docker Compose\uff09",d={},t=[{value:"1. \u670d\u52d9\u7d44\u6210",id:"1-\u670d\u52d9\u7d44\u6210",level:2},{value:"2. docker-compose.yml \u7bc4\u4f8b",id:"2-docker-composeyml-\u7bc4\u4f8b",level:2},{value:"3. \u555f\u52d5\u6b65\u9a5f",id:"3-\u555f\u52d5\u6b65\u9a5f",level:2},{value:"4. \u6ce8\u610f\u4e8b\u9805",id:"4-\u6ce8\u610f\u4e8b\u9805",level:2},{value:"5. \u76f8\u95dc\u9023\u7d50",id:"5-\u76f8\u95dc\u9023\u7d50",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u74b0\u5883\u5efa\u7f6e\u6307\u5357docker-compose",children:"\u74b0\u5883\u5efa\u7f6e\u6307\u5357\uff08Docker Compose\uff09"})}),"\n",(0,o.jsx)(n.p,{children:"\u672c\u6587\u4ef6\u8aaa\u660e\u5982\u4f55\u4f7f\u7528 Docker Compose \u5feb\u901f\u5efa\u7f6e Skalds \u57f7\u884c\u6240\u9700\u7684\u57fa\u790e\u670d\u52d9\uff08MongoDB\u3001Kafka\u3001Redis\uff09\uff0c\u9069\u7528\u65bc\u672c\u5730\u958b\u767c\u8207\u6e2c\u8a66\u3002"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"1-\u670d\u52d9\u7d44\u6210",children:"1. \u670d\u52d9\u7d44\u6210"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"MongoDB"}),"\uff1a\u4efb\u52d9\u8207\u72c0\u614b\u7684\u6c38\u4e45\u5132\u5b58\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Kafka"}),"\uff1a\u4e8b\u4ef6\u4f47\u5217\uff0c\u5be6\u73fe\u6a21\u7d44\u9593\u9ad8\u6548 Pub/Sub \u901a\u8a0a\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Redis"}),"\uff1a\u5feb\u53d6\u8a18\u61b6\u9ad4\uff0c\u652f\u63f4\u9ad8\u983b\u8cc7\u6599\u5b58\u53d6\u8207\u72c0\u614b\u540c\u6b65\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"2-docker-composeyml-\u7bc4\u4f8b",children:"2. docker-compose.yml \u7bc4\u4f8b"}),"\n",(0,o.jsxs)(n.p,{children:["\u5c07\u4e0b\u5217\u5167\u5bb9\u5b58\u70ba ",(0,o.jsx)(n.code,{children:"docker-compose.yml"}),"\uff0c\u6216\u76f4\u63a5\u53c3\u8003 ",(0,o.jsx)(n.code,{children:"examples/env_setup/docker-compose.yml"}),"\u3002\n",(0,o.jsx)(n.a,{href:"https://github.com/JiHungLin/skalds/blob/main/examples/env_setup/docker-compose.yml",children:"\u5728 GitHub \u4e0a\u6aa2\u8996 docker-compose.yml"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'version: \'3.8\'\nservices:\n  mongo:\n    image: mongo\n    restart: always\n    ports:\n      - "27017:27017"\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: root\n      MONGO_INITDB_ROOT_PASSWORD: root\n    volumes:\n      - $PWD/mongodb:/data/db\n\n  kafka-broker:\n    image: \'bitnami/kafka:3.9.0\'\n    restart: always\n    ports:\n      - "9092:9092"\n    environment:\n      - KAFKA_CFG_NODE_ID=0\n      - KAFKA_CFG_PROCESS_ROLES=controller,broker\n      - KAFKA_CFG_LISTENERS=PLAINTEXT://0.0.0.0:9092,CONTROLLER://:9093\n      - KAFKA_CFG_ADVERTISED_LISTENERS=PLAINTEXT://127.0.0.1:9092\n      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT\n      - KAFKA_CFG_CONTROLLER_QUORUM_VOTERS=0@kafka-broker:9093\n      - KAFKA_CFG_CONTROLLER_LISTENER_NAMES=CONTROLLER\n      - KAFKA_CFG_INTER_BROKER_LISTENER_NAME=PLAINTEXT\n      # \u8a2d\u5b9a\u4fdd\u7559\u6642\u9593\u70ba 30 \u5206\u9418\n      - KAFKA_CFG_LOG_RETENTION_HOURS=0\n      - KAFKA_CFG_LOG_RETENTION_MINUTES=30\n\n  redis:\n    image: redis:8\n    restart: always\n    ports:\n      - "6379:6379"\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"3-\u555f\u52d5\u6b65\u9a5f",children:"3. \u555f\u52d5\u6b65\u9a5f"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["\u5b89\u88dd ",(0,o.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"})," \u8207 ",(0,o.jsx)(n.a,{href:"https://docs.docker.com/compose/install/",children:"Docker Compose"}),"\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u65bc\u5c08\u6848\u6839\u76ee\u9304\u57f7\u884c\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker compose -f examples/env_setup/docker-compose.yml up -d\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u555f\u52d5\u5f8c\uff0c\u4e09\u500b\u670d\u52d9\u6703\u5206\u5225\u76e3\u807d\u672c\u6a5f\u7684 27017\uff08MongoDB\uff09\u30019092\uff08Kafka\uff09\u30016379\uff08Redis\uff09\u57e0\u53e3\u3002"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"4-\u6ce8\u610f\u4e8b\u9805",children:"4. \u6ce8\u610f\u4e8b\u9805"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u9810\u8a2d\u5e33\u865f\u5bc6\u78bc\uff08MongoDB\uff09\uff1a",(0,o.jsx)(n.code,{children:"root"})," / ",(0,o.jsx)(n.code,{children:"root"}),"\uff0c\u53ef\u4f9d\u9700\u6c42\u8abf\u6574\u3002"]}),"\n",(0,o.jsx)(n.li,{children:"Kafka \u63a1\u7528\u55ae\u7bc0\u9ede\u6a21\u5f0f\uff0c\u9069\u5408\u958b\u767c\u6e2c\u8a66\uff0c\u6b63\u5f0f\u74b0\u5883\u8acb\u4f9d\u9700\u6c42\u64f4\u5145\u3002"}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"$PWD/mongodb"})," \u76ee\u9304\u6703\u5132\u5b58 MongoDB \u8cc7\u6599\uff0c\u8acb\u78ba\u4fdd\u6709\u5beb\u5165\u6b0a\u9650\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u82e5\u9700\u81ea\u8a02\u7db2\u8def\u3001\u5bc6\u78bc\u6216\u9032\u968e\u8a2d\u5b9a\uff0c\u8acb\u53c3\u8003 ",(0,o.jsx)(n.a,{href:"https://hub.docker.com/_/mongo",children:"\u5b98\u65b9\u6587\u4ef6"}),"\u3001",(0,o.jsx)(n.a,{href:"https://hub.docker.com/r/bitnami/kafka",children:"Bitnami Kafka"}),"\u3001",(0,o.jsx)(n.a,{href:"https://hub.docker.com/_/redis",children:"Redis"}),"\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"5-\u76f8\u95dc\u9023\u7d50",children:"5. \u76f8\u95dc\u9023\u7d50"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/Skalds/docs/quickstart",children:"\u5feb\u901f\u5165\u9580"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/Skalds/docs/documents/yaml_config",children:"YAML \u914d\u7f6e\u8aaa\u660e"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/Skalds/docs/documents",children:"\u6280\u8853\u6587\u4ef6\u9996\u9801"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"./examples/",children:"\u7bc4\u4f8b\u7a0b\u5f0f"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},9863:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>i});var r=s(9729);const o={},c=r.createContext(o);function l(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);